{% set title = 'Dashboard' %}
{% set filename = 'index.html' %}
{% extends 'src/layouts/master.html' %}

{% block styles %}
<link rel="stylesheet" href="/assets/scss/iconly.scss">
<style>
/* Gradient welcome heading */
.welcome-heading {
    background: linear-gradient(135deg, #ff66cc, #9933ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: bold;
    font-size: 2rem;
    margin-bottom: 1rem;
    transition: all 0.5s ease;
}
.welcome-heading:hover {
    transform: scale(1.05);
}

/* Stats icon gradient effect */
.stats-icon {
    border-radius: 12px;
    padding: 12px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.stats-icon:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
.stats-icon.purple { background: linear-gradient(135deg, #ff66cc, #9933ff); }
.stats-icon.blue { background: linear-gradient(135deg, #66ccff, #3366ff); }
.stats-icon.green { background: linear-gradient(135deg, #66ff99, #33cc66); }
.stats-icon.red { background: linear-gradient(135deg, #ff6666, #cc3333); }

/* Card hover shadow & transition */
.card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

/* Progress bar style */
.progress {
    height: 6px;
    border-radius: 3px;
}
.progress-bar {
    border-radius: 3px;
    transition: width 1s ease-in-out;
}

/* Avatar glow and hover */
.avatar-xl img {
    border-radius: 50%;
    border: 3px solid #ff66cc;
    box-shadow: 0 0 15px rgba(255,102,204,0.6);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.avatar-xl img:hover {
    transform: scale(1.05);
    box-shadow: 0 0 25px rgba(255,102,204,0.8);
}

/* Latest comments chat style */
.comment-bubble {
    background: #f0f0f0;
    padding: 8px 12px;
    border-radius: 12px;
    display: inline-block;
    max-width: 80%;
    transition: background 0.3s ease;
}
.comment-bubble:hover {
    background: #e6e6ff;
}

/* Buttons style */
.btn-outline-primary {
    border: 2px solid #9933ff;
    color: #9933ff;
    transition: all 0.3s ease;
}
.btn-outline-primary:hover {
    background: #9933ff;
    color: white;
    transform: scale(1.05);
}

/* Regional Visit Headers */
.region-title {
    font-weight: bold;
    margin-bottom: 8px;
    color: #333;
}

/* Smooth chart container animations */
#chart-profile-visit, #chart-visitors-profile, #chart-europe, #chart-america, #chart-india, #chart-indonesia {
    transition: all 0.5s ease;
}
</style>
{% endblock %}

{% block content %}
<div class="page-heading text-center">
    <h2 class="welcome-heading">WELCOME TO HARISHA SHANKAPALLI DASHBOARD</h2>
</div>

<div class="page-heading">
    <h3>Profile Statistics</h3>
</div>

<div class="page-content">
    <section class="row">
        <div class="col-12 col-lg-9">
            <!-- Stats Cards -->
            <div class="row">
                <div class="col-6 col-lg-3 col-md-6">
                    <div class="card">
                        <div class="card-body px-4 py-4-5">
                            <div class="row">
                                <div class="col-md-4 col-lg-12 d-flex justify-content-start">
                                    <div class="stats-icon purple mb-2">
                                        <i class="iconly-boldShow"></i>
                                    </div>
                                </div>
                                <div class="col-md-8 col-lg-12">
                                    <h6 class="text-muted font-semibold">Profile Views</h6>
                                    <h6 class="font-extrabold mb-0 counter" data-target="112">0</h6>
                                    <div class="progress mt-2">
                                        <div class="progress-bar purple" style="width: 70%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Followers Card -->
                <div class="col-6 col-lg-3 col-md-6">
                    <div class="card">
                        <div class="card-body px-4 py-4-5">
                            <div class="row">
                                <div class="col-md-4 col-lg-12 d-flex justify-content-start">
                                    <div class="stats-icon blue mb-2">
                                        <i class="iconly-boldProfile"></i>
                                    </div>
                                </div>
                                <div class="col-md-8 col-lg-12">
                                    <h6 class="text-muted font-semibold">Followers</h6>
                                    <h6 class="font-extrabold mb-0 counter" data-target="183">0</h6>
                                    <div class="progress mt-2">
                                        <div class="progress-bar blue" style="width: 65%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Following Card -->
                <div class="col-6 col-lg-3 col-md-6">
                    <div class="card">
                        <div class="card-body px-4 py-4-5">
                            <div class="row">
                                <div class="col-md-4 col-lg-12 d-flex justify-content-start">
                                    <div class="stats-icon green mb-2">
                                        <i class="iconly-boldAdd-User"></i>
                                    </div>
                                </div>
                                <div class="col-md-8 col-lg-12">
                                    <h6 class="text-muted font-semibold">Following</h6>
                                    <h6 class="font-extrabold mb-0 counter" data-target="80">0</h6>
                                    <div class="progress mt-2">
                                        <div class="progress-bar green" style="width: 40%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Saved Post Card -->
                <div class="col-6 col-lg-3 col-md-6">
                    <div class="card">
                        <div class="card-body px-4 py-4-5">
                            <div class="row">
                                <div class="col-md-4 col-lg-12 d-flex justify-content-start">
                                    <div class="stats-icon red mb-2">
                                        <i class="iconly-boldBookmark"></i>
                                    </div>
                                </div>
                                <div class="col-md-8 col-lg-12">
                                    <h6 class="text-muted font-semibold">Saved Post</h6>
                                    <h6 class="font-extrabold mb-0 counter" data-target="112">0</h6>
                                    <div class="progress mt-2">
                                        <div class="progress-bar red" style="width: 70%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Visit Chart -->
            <div class="row mt-3">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4>Profile Visit</h4>
                        </div>
                        <div class="card-body">
                            <div id="chart-profile-visit"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Regional Visit Charts -->
            <div class="row mt-3">
                <div class="col-12 col-xl-4">
                    <div class="card">
                        <div class="card-header">
                            <h4>Regional Visits</h4>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <h5 class="region-title">Europe</h5>
                                <div id="chart-europe"></div>
                            </div>
                            <div class="mb-3">
                                <h5 class="region-title">America</h5>
                                <div id="chart-america"></div>
                            </div>
                            <div class="mb-3">
                                <h5 class="region-title">India</h5>
                                <div id="chart-india"></div>
                            </div>
                            <div class="mb-3">
                                <h5 class="region-title">Indonesia</h5>
                                <div id="chart-indonesia"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Latest Comments -->
                <div class="col-12 col-xl-8">
                    <div class="card">
                        <div class="card-header">
                            <h4>Latest Comments</h4>
                        </div>
                        <div class="card-body">
                            <div class="mb-2 d-flex align-items-start">
                                <div class="avatar avatar-md me-2">
                                    <img src="assets/static/images/faces/5.jpg">
                                </div>
                                <div class="comment-bubble">
                                    <strong>Si Cantik:</strong> Congratulations on your graduation!
                                </div>
                            </div>
                            <div class="mb-2 d-flex align-items-start">
                                <div class="avatar avatar-md me-2">
                                    <img src="assets/static/images/faces/2.jpg">
                                </div>
                                <div class="comment-bubble">
                                    <strong>Si Ganteng:</strong> Wow amazing design! Can you make another tutorial for this design?
                                </div>
                            </div>
                            <div class="mb-2 d-flex align-items-start">
                                <div class="avatar avatar-md me-2">
                                    <img src="assets/static/images/faces/8.jpg">
                                </div>
                                <div class="comment-bubble">
                                    <strong>Singh Eknoor:</strong> What a stunning design! You are so talented and creative!
                                </div>
                            </div>
                            <div class="mb-2 d-flex align-items-start">
                                <div class="avatar avatar-md me-2">
                                    <img src="assets/static/images/faces/3.jpg">
                                </div>
                                <div class="comment-bubble">
                                    <strong>Rani Jhadav:</strong> I love your design! Itâ€™s so beautiful and unique! How did you learn to do this?
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="col-12 col-lg-3">
            <div class="card mb-3">
                <div class="card-body py-4 px-4">
                    <div class="d-flex align-items-center">
                        <div class="avatar avatar-xl">
                            <img src="assets/static/images/faces/1.jpg" alt="Face 1">
                        </div>
                        <div class="ms-3 name">
                            <h5 class="font-bold">Harisha Shankapalli</h5>
                            <h6 class="text-muted mb-0">@harishashankapalli</h6>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Messages -->
            <div class="card mb-3">
                <div class="card-header">
                    <h4>Recent Messages</h4>
                </div>
                <div class="card-content pb-4">
                    <div class="recent-message d-flex px-4 py-3">
                        <div class="avatar avatar-lg">
                            <img src="assets/static/images/faces/4.jpg">
                        </div>
                        <div class="name ms-4">
                            <h5 class="mb-1">Hank Schrader</h5>
                            <h6 class="text-muted mb-0">@harishashankapalli</h6>
                        </div>
                    </div>
                    <div class="recent-message d-flex px-4 py-3">
                        <div class="avatar avatar-lg">
                            <img src="assets/static/images/faces/5.jpg">
                        </div>
                        <div class="name ms-4">
                            <h5 class="mb-1">Dean Winchester</h5>
                            <h6 class="text-muted mb-0">@imdean</h6>
                        </div>
                    </div>
                    <div class="px-4">
                        <button class='btn btn-block btn-xl btn-outline-primary font-bold mt-3'>Start Conversation</button>
                    </div>
                </div>
            </div>

            <!-- Visitors Profile -->
            <div class="card">
                <div class="card-header">
                    <h4>Visitors Profile</h4>
                </div>
                <div class="card-body">
                    <div id="chart-visitors-profile"></div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block js %}
<script src="assets/extensions/apexcharts/apexcharts.min.js"></script>
<script src="assets/static/js/pages/dashboard.js"></script>
<script>
// ===== Animated Counters =====
const counters = document.querySelectorAll(".counter");
counters.forEach(counter => {
    counter.innerText = '0';
    const updateCounter = () => {
        const target = +counter.getAttribute('data-target');
        const count = +counter.innerText;
        const increment = target / 100;
        if(count < target){
            counter.innerText = `${Math.ceil(count + increment)}`;
            setTimeout(updateCounter, 15);
        } else {
            counter.innerText = target;
        }
    };
    updateCounter();
});
</script>
{% endblock %}
